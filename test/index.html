<!DOCTYPE html>
<html>
<head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <link data-name="vs/editor/editor.main" href="../node_modules/monaco-editor-core/dev/vs/editor/editor.main.css"
          rel="stylesheet">
    <script src="../node_modules/vscode-languageserver-types/lib/umd/main.d.ts"></script>
</head>
<body>

<div id="container" style="width:1200px;height:800px"></div>

<script>
  // Loading basic-languages to get the json language definition
  var paths = {
    'vs/basic-languages': '../node_modules/monaco-languages/release/dev',
    'vs/language/jsonnet': '../out/amd',
    'jsonc-parser': '../node_modules/jsonc-parser/lib/umd/main',
    'vscode-json-languageservice': '../node_modules/vscode-json-languageservice/lib/umd/jsonLanguageService',
    'vscode-languageserver-types': '../node_modules/vscode-languageserver-types/lib/umd/main',
    'vscode-languageserver-textdocument': '../node_modules/vscode-languageserver-textdocument/lib/umd/main',
    'jsonLanguageTypes': '../node_modules/vscode-json-languageservice/lib/umd/jsonLanguageTypes',
    'vscode-nls': '../out/amd/fillers/vscode-nls',
    'vscode-uri': '../node_modules/vscode-uri/lib/umd/index',
    'services': '../node_modules/vscode-json-languageservice/lib/umd/services',
    'parser': '../node_modules/vscode-json-languageservice/lib/umd/parser',
    'utils': '../node_modules/vscode-json-languageservice/lib/umd/utils',
    'impl': '../node_modules/jsonc-parser/lib/umd/impl',
    'vs/base/worker': '../node_modules/monaco-editor-core/dev/vs/base/worker',
  }
  if (document.location.protocol === 'http:') {
    // Add support for running local http server
    let testIndex = document.location.pathname.indexOf('/test/')
    if (testIndex !== -1) {
      let prefix = document.location.pathname.substr(0, testIndex)
      paths['vs/language/jsonnet'] = prefix + '/out/amd'
    }
  }
  var require = {
    paths: paths
  }
</script>
<script src="../node_modules/monaco-editor-core/dev/vs/loader.js"></script>
<script src="../node_modules/monaco-editor-core/dev/vs/editor/editor.main.nls.js"></script>
<script src="../node_modules/monaco-editor-core/dev/vs/editor/editor.main.js"></script>

<script>
  require([
      // 'vs/basic-languages/monaco.contribution',
      'vs/language/jsonnet/monaco.contribution'
    ], function () {
      const files = {
        // 'README.md': '# Rakam API Integration\n\n## How does it work?\n\nRakam ingests all the event data into a table called `EVENTS`. This recipe maps the data, extract your event schema and create models from your events. \nAll your event properties will be updated upon recipe install/upgrade. If you started collecting a new event and do not see it as a model or a property, you can upgrade the recipe by re-running the `event schema` config. \n\nThe recipe contains the following models:\n\n* `all_events` model that contains all the events. It has an additional `event_type` dimension so you can see how your data is distributed across different event types.\n* Each event type has it\'s own model with the event its event properties. The schema is discovered via the `event_schema` config variable.\n\n## Adding a common metric to all events\n[./common_schema.libsonnet](common_schema.libsonnet) has `measures`, `dimensions`, and `properties` that applies to `all_events` and all custom event models. \nIf you want to add a metric that should be visible in all these events, you can add it there.\n\n* `measures`: The measures will show up in the measures of segmentation in all the models. If you have a business metric that applies all your events such as `Number of users`, `Revenue`, etc. you can add it here.\n* `properties`: If you want to make an event property visible in `all_events` and all other custom event models, you can add it here. Additionally, you can add label, category or force a type for an event property using this key.\n* `dimensions`: If you want to add a custom dimension to all models such as a computed property (i.e. `{{dimension.property1}} * {{dimension.property2}}`), you can add it here.\n\n## Adding a metric to an individual event\nSimilar to the common file, there is [./predefined_schema.libsonnet](custom_schema.libsonnet) that includes event_type to model definitions. \nThe object keys correspond to event type, the object values `measures` and `dimensions` and will be applied to your custom event upon recipe update.\n\n* `measures`: If you have a measure that can be applies to a specific event type, you can add it here. An example would be `Unique Pageviews` for `pageview model`.\n* `properties`: All your event properties will be updated upon recipe install/upgrade so you don\'t actually need to write your properties here. However; in case you want to add label or description to an event type or its property, you can define them here. Moreover; you can categorize them by adding `category` property in this section.\n\n',
        // '_config.jsonnet': '{\n  version: 1.1,\n  label: \'Rakam API\',\n  description: \'It automatically creates models from your collections.\',\n  variables: {\n    target: {\n      label: \'Events Table\',\n      type: \'table\',\n      default: { table: \'EVENTS\' },\n    },\n    event_schema: {\n      type: \'sql\',\n      parent: \'target\',\n      description: \'The event schema in your Snowflake Warehouse\',\n      options: {\n        sql: |||\n          SELECT EVENT_NAME as "n", ANY_VALUE(EVENT_DB) as "db", ARRAY_AGG(OBJECT_CONSTRUCT(\'db\', PROP_DB, \'n\', PROP_NAME, \'t\', TYPE)) as "props"\n          FROM (\n                  SELECT\n                  DISTINCT E.EVENT_TYPE as EVENT_DB,\n                  LOWER(LTRIM(REGEXP_REPLACE(REGEXP_REPLACE(E.EVENT_TYPE, \'([a-z])([A-Z])\', \'\\1_\\2\'), \'[^a-zA-Z0-9_]\', \'\'), \'_\')) as EVENT_NAME,\n                  F.KEY as PROP_DB,\n                  LOWER(LTRIM(REGEXP_REPLACE(REGEXP_REPLACE(F.KEY, \'([a-z])([A-Z])\', \'\\1_\\2\'), \'[^a-zA-Z0-9_]\', \'\'), \'_\')) as PROP_NAME,\n                  MODE(TYPEOF(f.VALUE)) OVER (PARTITION BY EVENT_DB, PROP_DB, TYPEOF(f.VALUE)) as TYPE\n              FROM\n                  (select * from events where _TIME between DATEADD(DAY, -15, current_timestamp) and current_timestamp limit 2000000) E,\n                  LATERAL FLATTEN(PROPERTIES, RECURSIVE=>FALSE) F\n              WHERE\n                  \n                  TYPEOF(F.VALUE) IN (\'BOOLEAN\', \'DECIMAL\', \'DOUBLE\', \'INTEGER\', \'VARCHAR\')\n                  --AND REGEXP_LIKE(F.KEY, \'^[a-zA-Z0-9]*$\')\n                  AND EVENT_TYPE NOT IN (\'$invalid_schema\', \'$identify\') \n          ) d\n          GROUP BY 1\n        |||,\n      },\n    },\n  },\n  tags: [\'event-analytics\'],\n  databases: [\'snowflake\'],\n}\n',
        // 'all_events.model.jsonnet': 'local common = import \'common_schema.libsonnet\';\n\nlocal types = {\n  boolean: \'BOOLEAN\',\n  double: \'DOUBLE\',\n  integer: \'INTEGER\',\n  string: \'VARCHAR\',\n};\n\nlocal dimensions = {\n  [prop]: {\n    sql: \'cast({{TABLE}}.properties:"%(name)s" as %(type)s)\' % { type: types[common.properties[prop].type], name: prop },\n    category: if std.objectHas(common.properties[prop], \'category\') then common.properties[prop].category else null,\n    type: common.properties[prop].type\n  } for prop in std.objectFields(common.properties)\n};\n\n{\n  name: \'rakam_events\',\n  label: \'[Rakam] All events\',\n  target: std.extVar(\'target\'),\n  category: \'Rakam Events\',\n  measures: common.measures,\n  mappings: common.mappings,\n  dimensions: dimensions + \n  {\n    event_type: {\n      column: \'EVENT_TYPE\',\n      type: \'string\',\n    },\n    time: {\n      column: \'_TIME\',\n      description: \'\',\n      type: \'timestamp\',\n    },\n    server_time: {\n      column: \'_SERVER_TIME\',\n      description: \'\',\n      type: \'timestamp\',\n    },\n    user: {\n      column: \'_USER\',\n      type: \'string\',\n      description: \'\',\n    },\n  },\n}\n',
        'common_schema.libsonnet': '{\n  measures: {\n    unique_users: {\n      aggregation: \'countUnique\',\n      sql: \'{{dimension.user}}\',\n    },\n    unique_devices: {\n      aggregation: \'countUnique\',\n      sql: \'{{dimension.device_id}}\',\n    },\n    unique_sessions: {\n      aggregation: \'countUnique\',\n      sql: \'{{dimension.session_id}}\',\n    },\n    total_events: {\n      aggregation: \'count\',\n    },\n    revenue: {\n      aggregation: \'sum\',\n      sql: \'{{dimension.value}}\'\n    },\n    revenue_in_this_week: {\n      aggregation: \'sum\',\n      sql: \'{{dimension.value}}\',\n      filters: [\n        { dimension: \'time\', operator: \'between\', value: \'P1W\', valueType: \'timestamp\' },\n      ],\n    },\n    revenue_in_this_month: {\n      aggregation: \'sum\',\n      sql: \'{{dimension.value}}\',\n      filters: [\n        { dimension: \'time\', operator: \'between\', value: \'P1M\', valueType: \'timestamp\' },\n      ],\n    },\n    revenue_in_previous_week: {\n      aggregation: \'sum\',\n      sql: \'{{dimension.value}}\',\n      filters: [\n        { dimension: \'time\', operator: \'between\', value: \'P2W\', valueType: \'timestamp\' },\n        { dimension: \'time\', operator: \'lessThan\', value: \'P1W\', valueType: \'timestamp\' },\n      ],\n    },\n    revenue_in_previous_month: {\n      aggregation: \'sum\',\n      sql: \'{{dimension.value}}\',\n      filters: [\n        { dimension: \'time\', operator: \'between\', value: \'P2M\', valueType: \'timestamp\' },\n        { dimension: \'time\', operator: \'lessThan\', value: \'P1M\', valueType: \'timestamp\' },\n      ],\n    },\n  },\n  properties: {\n    value: {\n      label: \'Revenue\',\n      category: \'Aptoide\',\n      type: \'double\',\n    },\n    aptoide_package: {\n      category: \'Aptoide\',\n      type: \'string\',\n    },\n    _session_id: {\n      category: \'User\',\n      type: \'string\',\n    },\n    _device_id: {\n      category: \'User\',\n      type: \'string\',\n    },\n    __ip: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _city: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _region: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _country_code: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _latitude: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _device_brand: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _device_carrier: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _device_family: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _device_manufacturer: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n    _device_model: {\n      category: \'User Location\',\n      type: \'string\',\n    },\n  },\n  mappings: {\n    eventTimestamp: \'time\',\n    userId: \'user\',\n    deviceId: \'device_id\',\n  },\n}\n',
        'custom_events.models.jsonnet': 'local common = import \'common_schema.libsonnet\';\nlocal predefined = import \'custom_schema.libsonnet\';\n   \nlocal target = std.extVar(\'target\');\n\nlocal types = {\n  BOOLEAN: \'boolean\',\n  DECIMAL: \'double\',    \n  DOUBLE: \'double\', \n  INTEGER: \'integer\',\n  VARCHAR: \'string\',\n};\n\nstd.map(function(event_type)\n  local event_name = event_type.n;\n  local db_name = event_type.db;\n\n  local defined = if std.objectHas(predefined, event_name) then predefined[event_name] else null;\n\n  local definedProperties = if defined != null && std.objectHas(defined, \'properties\') then defined.properties else {};\n  local dimensions_for_event = std.foldl(function(a, b) a + b, std.map(function(prop) {\n                                 [prop.n]: {\n                                   sql: \'cast({{TABLE}}.properties:"%(name)s" as %(type)s)\' % { type: prop.t, name: prop.db },\n                                   label: if std.objectHas(definedProperties, prop.n) && std.objectHas(definedProperties[prop.n], \'label\') then definedProperties[prop.n].label\n                                   else if std.objectHas(common.properties, prop.n) && std.objectHas(common.properties[prop.n], \'label\') then common.properties[prop.n].label\n                                   else null,\n                                   type: types[prop.t],\n                                   category: if std.objectHas(definedProperties, prop.n) && std.objectHas(definedProperties[prop.n], \'category\') then definedProperties[prop.n].category\n                                   else if std.objectHas(common.properties, prop.n) && std.objectHas(common.properties[prop.n], \'category\') then common.properties[prop.n].category\n                                   else if std.startsWith(prop.db, \'_\') then \'SDK\'\n                                   else \'Event Property\',\n                                 },\n                               }, event_type.props\n), {})\n                               +\n                               if defined != null && std.objectHas(defined, \'dimensions\') then defined.dimensions else {};\n  {\n    name: \'rakam_event_\' + event_name,\n    label: (if defined != null then \'[SDK] \' else \'\') + event_name,\n    sql: |||\n      select * from "%(database)s"."%(schema)s"."%(table)s" where event_type = \'%(db_name)s\'\n    ||| % { db_name: db_name, database: target.database, schema: target.schema, table: target.table },\n    measures: common.measures + if defined != null && std.objectHas(defined, \'measures\') then defined.measures else {},\n    mappings: common.mappings,\n    relations: if defined != null && std.objectHas(defined, \'relations\') then defined.relations else {},\n    category: \'Rakam Events\',\n    dimensions: dimensions_for_event + {\n    event_type: {\n      column: \'EVENT_TYPE\',\n      type: \'string\',\n    },\n    time: {\n      column: \'_TIME\',\n      description: \'\',\n      type: \'timestamp\',\n    },\n    server_time: {\n      column: \'_SERVER_TIME\',\n      description: \'\',\n      type: \'timestamp\',\n    },\n    user: {\n      column: \'_USER\',\n      type: \'string\',\n      description: \'\',\n    },\n  },\n  }, std.extVar(\'event_schema\'))\n',
        'custom_schema.libsonnet': 'local payment = {\n    measures: {\n      app_coin: {\n        sql: \'{{dimension.value}}\',\n        aggregation: \'sum\',\n      },\n      app_coin_in_euro: {\n        sql: \'0.02888766*{{dimension.value}}\',\n        aggregation: \'sum\',\n        reportOptions: {\n          suffix: \' EUR\'\n        }\n      },\n      app_coin_in_usd: {\n        sql: \'0.03194*{{dimension.value}}\',\n        aggregation: \'sum\',\n        reportOptions: {\n          suffix: \' USD\'\n        }\n      }\n    },\n    // define category and descriptions for properties\n    properties: {\n      value: {\n        category: \'Revenue\',\n        type: \'double\'\n      }\n    },\n    dimensions: {\n      example_computed_dimension: {\n        category: \'Example Category\',\n        type: \'string\',\n        sql: \'concat({{dimension.product_name}}, {{dimension.product_id}})\',\n      },\n    }\n  };\n\n{\n  wallet_payment_conclusion: payment,\n  wallet_top_up_conclusion: payment,\n  pageview: {\n    measures: {\n      time_on_page: {\n        aggregation: \'average\',\n        sql:\'LEAST(GREATEST(0, {{dimension.time_on_page}}), 1000)\',\n        description: \'The duration spent on the page when the user visits the pages. If the value is `null`, then the users bounced and the sample data is not enough to calculate the time on page.\',\n        filters: [\n          {dimension: \'time_on_page\', valueType: \'unknown\', operator: \'isSet\'}\n        ],\n        reportOptions: {\n          suffix: \' seconds\'\n        },\n      }\n    }\n  },\n  session_start: {\n    measures: {\n      unique_users_today: {\n        aggregation: \'countUnique\',\n        sql: \'{{dimension.user}}\',\n        filters: [\n          { dimension: \'time\', operator: \'between\', value: \'P1D\', valueType: \'timestamp\' },\n        ],\n      },\n      unique_users__week: {\n        aggregation: \'countUnique\',\n        sql: \'{{dimension.user}}\',\n\n\n        ///testststst\n        filters: [\n          { dimension: \'time\', operator: \'between\', value: \'P1W\', valueType: \'timestamp\' },\n        ],\n      },\n    },\n    dimensions: {\n      week_over_week: {\n        category: \'Period-over-period\',\n        sql: "case when (mod(current_date() - cast({{TABLE}}._time as date), 7) = 0) then cast((current_date() - cast({{TABLE}}._time as date))/7 as number) || \' weeks ago\' else null end",\n        type: \'string\'\n      }\n    }\n  },\n  download: {\n    measures: {\n      yesterday_downloads: {\n        hidden: true,\n        aggregation: \'sum\',\n        sql: \'CASE WHEN {{dimension.time}} BETWEEN dateadd(day, -2, current_timestamp()) and dateadd(day, -1, current_timestamp()) then 1 else 0 end\'\n      },\n      today_downloads: {\n        hidden: true,\n        aggregation: \'sum\',\n        sql: \'CASE WHEN {{dimension.time}} BETWEEN dateadd(day, -1, current_timestamp()) and current_timestamp() then 1 else 0 end\'\n      },\n      last_week_downloads: {\n        hidden: true,\n        aggregation: \'sum\',\n        sql: \'CASE WHEN {{dimension.time}} BETWEEN dateadd(day, -8, current_timestamp()) and dateadd(day, -7, current_timestamp()) then 1 else 0 end\'\n      },\n      growth_today: {\n        label: \'Daily Donwload Growth\',\n        sql: \'CASE WHEN {{measure.yesterday_downloads}} > 500 then ({{measure.today_downloads}} - {{measure.yesterday_downloads}}) * 100 / {{measure.yesterday_downloads}} else 0 end\',\n        reportOptions: {\n          suffix: \'%\'\n        }\n      },\n      growth_this_week: {\n        label: \'Weekly Download Growth\',\n        sql: \'CASE WHEN {{measure.last_week_downloads}} > 500 then ({{measure.today_downloads}} - {{measure.last_week_downloads}}) * 100 / {{measure.last_week_downloads}} else 0 end\',\n        reportOptions: {\n          suffix: \'%\'\n        }\n      }\n    }\n  }\n}\n',
        'event_schema.libsonnet': '[{          \'n\': \'asv_2053_similar_apps_participating\',          \'db\': \'asv_2053_similar_apps_participating\',          \'props\': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]        }, {          \'n\': \'install\',          \'db\': \'install\',          \'props\': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]        }, {          \'n\': \'web_app_download_button_hit\',          \'db\': \'web_app_download_button_hit\',          \'props\': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]        }, {          \'n\': \'aptoide_first_launch\',          \'db\': \'aptoide_first_launch\',          \'props\': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]        }, {          \'n\': \'search_result_click\',          \'db\': \'search_result_click\',          \'props\': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]        }]',
        'test.model.jsonnet': '  {\n' +
          '    name: \'test\',\n' +
          '    target: {\n' +
          '      database: \'ahmet\',\n' +
          '      table: \'test\'\n' +
          '    },\n' +
          '    dimensions: {\n' +
          '      dimensionName: {\n' +
          '        column: "campaign_name"\n' +
          '      }\n' +
          '    }\n' +
          '  }\n',
        // 'invalid_schema.model.jsonnet': 'local common = import \'common_schema.libsonnet\';\nlocal util = import \'util.libsonnet\'; \nlocal target = std.extVar(\'target\');\n\nlocal types = {\n  BOOLEAN: \'boolean\',\n  DECIMAL: \'double\',\n  DOUBLE: \'double\',\n  INTEGER: \'integer\',\n  VARCHAR: \'string\',\n};\n\nlocal dimensions = [\n  {\n    db: \'collection\',\n    n: \'collection\',\n    t: \'VARCHAR\',\n    desc: null,\n  },\n  {\n    db: \'property\',\n    n: \'property\',\n    t: \'VARCHAR\',\n    desc: \'The property the system failed to parse in the collection\',\n  },\n  {\n    db: \'type\',\n    n: \'type\',\n    t: \'VARCHAR\',\n    desc: \'The expected type for the field. The system failed to parse the value to this type.\',\n  },\n  {\n    db: \'event_id\',\n    n: \'event_id\',\n    t: \'VARCHAR\',\n    desc: \'The id of the corresponding event in the EVENTS table. You can use this id in order to join to that table and fix the historical data.\',\n  },\n  {\n    db: \'error_message\',\n    n: \'error_message\',\n    t: \'VARCHAR\',\n    desc: \'The error message thrown in the system parsing the property \',\n  },\n  {\n    db: \'encoded_value\',\n    n: \'encoded_value\',\n    t: \'VARCHAR\',\n    desc: \'aria-label="The invalid raw value encoded as JSON for that is sent to the API"\',\n  },\n];\n\n{\n  category: \'Rakam Events\',\n  name: \'rakam_invalid_schema\',\n  label: \'[System] Invalid Schema\',\n  description: \'Includes the parsing errors in the API. \',\n  sql: |||\n    select * from %(target)s where event_type = \'$invalid_schema\'\n  ||| % { target: util.generate_target_reference(target) },\n  measures: common.measures,\n  mappings: common.mappings,\n  dimensions: {\n    event_type: {\n      column: \'EVENT_TYPE\',\n      type: \'string\',\n    },\n    time: {\n      column: \'_TIME\',\n      description: \'\',\n      type: \'timestamp\',\n    },\n    server_time: {\n      column: \'_SERVER_TIME\',\n      description: \'\',\n      type: \'timestamp\',\n    },\n    user: {\n      column: \'_USER\',\n      type: \'string\',\n      description: \'\',\n    },\n  } + std.foldl(function(a, b) a + b, std.map(function(prop) {\n    [prop.n]: {\n      sql: \'{{TABLE}}.properties:"%(name)s"::%(type)s\' % { type: prop.t, name: prop.db },\n      category: if std.startsWith(prop.db, \'_\') then \'SDK\' else \'Event Property\',\n      type: types[prop.t],\n      description: prop.desc,\n    },\n  }, dimensions), {}),\n}\n',
        // 'user_attributes.jsonnet': '{\n  sql: |||\n    SELECT\n        DISTINCT F.KEY as PROP_DB,\n        LOWER(LTRIM(REGEXP_REPLACE(REGEXP_REPLACE(F.KEY, \'([a-z])([A-Z])\', \'\\1_\\2\'), \'[^a-zA-Z0-9_]\', \'\'), \'_\')) as PROP_NAME,\n        FALSE AS IS_IN_SET,\n        MODE(TYPEOF(f.VALUE)) OVER (PARTITION BY PROP_DB, TYPEOF(f.VALUE)) as TYPE\n    FROM\n        EVENTS E,\n        LATERAL FLATTEN(PROPERTIES:"$set", RECURSIVE=>FALSE) F\n    WHERE\n        _TIME > DATEADD(MINUTE, -60, current_timestamp)\n        AND TYPEOF(F.VALUE) IN (\'BOOLEAN\', \'DECIMAL\', \'DOUBLE\', \'INTEGER\', \'VARCHAR\')\n        AND EVENT_TYPE = \'$identify\'\n    UNION ALL\n    SELECT\n        DISTINCT F.KEY as PROP_DB,\n        LOWER(LTRIM(REGEXP_REPLACE(REGEXP_REPLACE(F.KEY, \'([a-z])([A-Z])\', \'\\1_\\2\'), \'[^a-zA-Z0-9_]\', \'\'), \'_\')) as PROP_NAME,\n        TRUE AS IS_IN_SET,\n        MODE(TYPEOF(f.VALUE)) OVER (PARTITION BY PROP_DB, TYPEOF(f.VALUE)) as TYPE\n    FROM\n        EVENTS E,\n        LATERAL FLATTEN(PROPERTIES, RECURSIVE=>FALSE) F\n    WHERE\n        _TIME > DATEADD(MINUTE, -60, current_timestamp)\n        AND TYPEOF(F.VALUE) IN (\'BOOLEAN\', \'DECIMAL\', \'DOUBLE\', \'INTEGER\', \'VARCHAR\')\n        AND EVENT_TYPE = \'$identify\'\n  |||,\n}\n'
      }

      let extVars = {
        '_aq': '"',
        '_db': 'snowflake',
        'target': {'table': 'EVENTS', 'schema': 'TEST', 'database': 'RAKAM'},
        'event_schema': [{
          'n': 'asv_2053_similar_apps_participating',
          'db': 'asv_2053_similar_apps_participating',
          // 'props': '[\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "group",\n    "n": "group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  }\n]'
          'props': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]
        }, {
          'n': 'install',
          'db': 'install',
          // 'props': '[\n  {\n    "db": "app_appc",\n    "n": "app_appc",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "previous_context",\n    "n": "previous_context",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads_status",\n    "n": "ads_status",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "apkfy_app_install",\n    "n": "apkfy_app_install",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "error_message",\n    "n": "error_message",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "context",\n    "n": "context",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv-2119-group",\n    "n": "asv2119group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "miui_aab_fix",\n    "n": "miui_aab_fix",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "app_migration",\n    "n": "app_migration",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "trusted_badge",\n    "n": "trusted_badge",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "action",\n    "n": "action",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "package_name",\n    "n": "package_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "status",\n    "n": "status",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "error_type",\n    "n": "error_type",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "tag",\n    "n": "tag",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "app_aab",\n    "n": "app_aab",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "store",\n    "n": "store",\n    "t": "VARCHAR"\n  }\n]'
          'props': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]
        }, {
          'n': 'web_app_download_button_hit',
          'db': 'web_app_download_button_hit',
          // 'props': '[\n  {\n    "db": "_user_agent_family",\n    "n": "user_agent_family",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_path",\n    "n": "referrer_path",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_source",\n    "n": "referrer_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_domain",\n    "n": "referrer_domain",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_term",\n    "n": "referrer_term",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_os",\n    "n": "os",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "package_uname",\n    "n": "package_uname",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_family",\n    "n": "device_family",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_medium",\n    "n": "referrer_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "subdomain",\n    "n": "subdomain",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "download_type",\n    "n": "download_type",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  }\n]'
          'props': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]
        }, {
          'n': 'aptoide_first_launch',
          'db': 'aptoide_first_launch',
          // 'props': '[\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  }\n]'
          'props': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]
        }, {
          'n': 'search_result_click',
          'db': 'search_result_click',
          // 'props': '[\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "search_term",\n    "n": "search_term",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "inserted_keyword",\n    "n": "inserted_keyword",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "search_term_source",\n    "n": "search_term_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv-2119-group",\n    "n": "asv2119group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "is_ad",\n    "n": "is_ad",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "is_appc",\n    "n": "is_appc",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "position",\n    "n": "position",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "package_name",\n    "n": "package_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  }\n]'
          'props': [ { "db": "_gps_enabled", "n": "gps_enabled", "t": "BOOLEAN" }, { "db": "_city", "n": "city", "t": "VARCHAR" }, { "db": "_os_version", "n": "os_version", "t": "VARCHAR" }, { "db": "_os_name", "n": "os_name", "t": "VARCHAR" }, { "db": "utm_source", "n": "utm_source", "t": "VARCHAR" }, { "db": "_version_name", "n": "version_name", "t": "VARCHAR" }, { "db": "_latitude", "n": "latitude", "t": "DECIMAL" }, { "db": "_limit_ad_tracking", "n": "limit_ad_tracking", "t": "BOOLEAN" }, { "db": "_session_id", "n": "session_id", "t": "DOUBLE" }, { "db": "_id", "n": "id", "t": "VARCHAR" }, { "db": "_android_adid", "n": "android_adid", "t": "VARCHAR" }, { "db": "_local_id", "n": "local_id", "t": "DECIMAL" }, { "db": "group", "n": "group", "t": "VARCHAR" }, { "db": "_region", "n": "region", "t": "VARCHAR" }, { "db": "entry_point", "n": "entry_point", "t": "VARCHAR" }, { "db": "_device_id", "n": "device_id", "t": "VARCHAR" }, { "db": "first_session", "n": "first_session", "t": "BOOLEAN" }, { "db": "_country_code", "n": "country_code", "t": "VARCHAR" }, { "db": "_device_model", "n": "device_model", "t": "VARCHAR" }, { "db": "aptoide_package", "n": "aptoide_package", "t": "VARCHAR" }, { "db": "version_code", "n": "version_code", "t": "DECIMAL" }, { "db": "__ip", "n": "ip", "t": "VARCHAR" }, { "db": "_device_manufacturer", "n": "device_manufacturer", "t": "VARCHAR" }, { "db": "_library_name", "n": "library_name", "t": "VARCHAR" }, { "db": "utm_medium", "n": "utm_medium", "t": "VARCHAR" }, { "db": "utm_content", "n": "utm_content", "t": "VARCHAR" }, { "db": "utm_campaign", "n": "utm_campaign", "t": "VARCHAR" }, { "db": "_library_version", "n": "library_version", "t": "VARCHAR" }, { "db": "_device_brand", "n": "device_brand", "t": "VARCHAR" }, { "db": "_platform", "n": "platform", "t": "VARCHAR" }, { "db": "_longitude", "n": "longitude", "t": "DECIMAL" }, { "db": "_carrier", "n": "carrier", "t": "VARCHAR" }, { "db": "gms", "n": "gms", "t": "VARCHAR" }, { "db": "_language", "n": "language", "t": "VARCHAR" }, { "db": "_timezone", "n": "timezone", "t": "VARCHAR" }, { "db": "ads", "n": "ads", "t": "VARCHAR" } ]
        },
        // {
        //   'n': 'wallet_top_up_start',
        //   'db': 'wallet_top_up_start',
        //   'props': '[\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "user_level",\n    "n": "user_level",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  }\n]'
        // }, {
        //   'n': 'click_on_install_button',
        //   'db': 'click_on_install_button',
        //   'props': '[\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "miui_aab_fix",\n    "n": "miui_aab_fix",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "action",\n    "n": "action",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "store",\n    "n": "store",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "tag",\n    "n": "tag",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "trusted_badge",\n    "n": "trusted_badge",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "package_name",\n    "n": "package_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "context",\n    "n": "context",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv-2119-group",\n    "n": "asv2119group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "apkfy_app_install",\n    "n": "apkfy_app_install",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "app_appc",\n    "n": "app_appc",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "previous_context",\n    "n": "previous_context",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "app_migration",\n    "n": "app_migration",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "app_aab",\n    "n": "app_aab",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads_status",\n    "n": "ads_status",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  }\n]'
        // }, {
        //   'n': 'asv_2119_apkfy_ads_participating',
        //   'db': 'asv_2119_apkfy_ads_participating',
        //   'props': '[\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "group",\n    "n": "group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  }\n]'
        // }, {
        //   'n': 'mob_238_apps_converting',
        //   'db': 'mob_238_apps_converting',
        //   'props': '[\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "group",\n    "n": "group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  }\n]'
        // }, {
        //   'n': 'mob_238_apps_participating',
        //   'db': 'mob_238_apps_participating',
        //   'props': '[\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "group",\n    "n": "group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  }\n]'
        // }, {
        //   'n': 'session_start',
        //   'db': '_session_start',
        //   'props': '[\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv-2119-group",\n    "n": "asv2119group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "user_level",\n    "n": "user_level",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "has_gms",\n    "n": "has_gms",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  }\n]'
        // }, {
        //   'n': 'pageview',
        //   'db': 'pageview',
        //   'props': '[\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "color_depth",\n    "n": "color_depth",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_user_agent_family",\n    "n": "user_agent_family",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "subdomain",\n    "n": "subdomain",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_referrer_domain",\n    "n": "referrer_domain",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_family",\n    "n": "device_family",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "title",\n    "n": "title",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "variant",\n    "n": "variant",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_term",\n    "n": "referrer_term",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_term",\n    "n": "utm_term",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "url",\n    "n": "url",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os",\n    "n": "os",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_medium",\n    "n": "referrer_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_source",\n    "n": "referrer_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "viewport",\n    "n": "viewport",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "package_name",\n    "n": "package_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "hostname",\n    "n": "hostname",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_referrer_path",\n    "n": "referrer_path",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "time_on_page",\n    "n": "time_on_page",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "returning_session",\n    "n": "returning_session",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "abtest",\n    "n": "abtest",\n    "t": "VARCHAR"\n  }\n]'
        // }, {
        //   'n': 'download',
        //   'db': 'download',
        //   'props': '[\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "apkfy_app_install",\n    "n": "apkfy_app_install",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads_status",\n    "n": "ads_status",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv-2119-group",\n    "n": "asv2119group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "app_migration",\n    "n": "app_migration",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "error_message",\n    "n": "error_message",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "error_type",\n    "n": "error_type",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "app_aab",\n    "n": "app_aab",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "app_version_code",\n    "n": "app_version_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "package_name",\n    "n": "package_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "tag",\n    "n": "tag",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "app_appc",\n    "n": "app_appc",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "action",\n    "n": "action",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "store",\n    "n": "store",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "previous_context",\n    "n": "previous_context",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "context",\n    "n": "context",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "trusted badge",\n    "n": "trustedbadge",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "miui_aab_fix",\n    "n": "miui_aab_fix",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "status",\n    "n": "status",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  }\n]'
        // }, {
        //   'n': 'search',
        //   'db': 'search',
        //   'props': '[\n  {\n    "db": "_library_version",\n    "n": "library_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "entry_point",\n    "n": "entry_point",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_latitude",\n    "n": "latitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_longitude",\n    "n": "longitude",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_os_name",\n    "n": "os_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_country_code",\n    "n": "country_code",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_language",\n    "n": "language",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_session_id",\n    "n": "session_id",\n    "t": "DOUBLE"\n  },\n  {\n    "db": "_version_name",\n    "n": "version_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_id",\n    "n": "device_id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_model",\n    "n": "device_model",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "search_term_source",\n    "n": "search_term_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "search_term_position",\n    "n": "search_term_position",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_brand",\n    "n": "device_brand",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_android_adid",\n    "n": "android_adid",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "__ip",\n    "n": "ip",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_city",\n    "n": "city",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_platform",\n    "n": "platform",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_region",\n    "n": "region",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "aptoide_package",\n    "n": "aptoide_package",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_medium",\n    "n": "utm_medium",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_timezone",\n    "n": "timezone",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "version_code",\n    "n": "version_code",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "_local_id",\n    "n": "local_id",\n    "t": "DECIMAL"\n  },\n  {\n    "db": "search_term",\n    "n": "search_term",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "theme",\n    "n": "theme",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_library_name",\n    "n": "library_name",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_limit_ad_tracking",\n    "n": "limit_ad_tracking",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "asv_2119_group",\n    "n": "asv_2119_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_os_version",\n    "n": "os_version",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_campaign",\n    "n": "utm_campaign",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_id",\n    "n": "id",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_content",\n    "n": "utm_content",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "asv-2119-group",\n    "n": "asv2119group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "inserted_keyword",\n    "n": "inserted_keyword",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ads",\n    "n": "ads",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_device_manufacturer",\n    "n": "device_manufacturer",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "utm_source",\n    "n": "utm_source",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_carrier",\n    "n": "carrier",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "ab_notification_group",\n    "n": "ab_notification_group",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "gms",\n    "n": "gms",\n    "t": "VARCHAR"\n  },\n  {\n    "db": "_gps_enabled",\n    "n": "gps_enabled",\n    "t": "BOOLEAN"\n  },\n  {\n    "db": "first_session",\n    "n": "first_session",\n    "t": "BOOLEAN"\n  }\n]'
        // }
        ]
      }

      const host = 'https://app.rakam.io'
      const schema = [
        {
          uri: 'http://docs.rakam.io/schema/model',
          fileMatch: ['*.model.json'],
          schema: {'$ref': host + '/schema/model.schema.json'}
        },
        {
          uri: 'http://docs.rakam.io/schema/models',
          fileMatch: ['*.models.json'],
          schema: {
            'type': 'array',
            'items': {'$ref': host + '/schema/model.schema.json'}
          }
        },
        {
          uri: 'http://docs.rakam.io/schema/config',
          fileMatch: ['_config.json'],
          schema: {'$ref': host + '/schema/config.schema.json'}
        }
        // {
        //   uri: 'https://docs.rakam.io/docs/compose/schema/dashboards.json',
        //   fileMatch: ['dashboard.json'],
        //   schema: dashboardSchema
        // },
        // {
        //   uri: 'https://docs.rakam.io/docs/compose/schema/dashboard.json',
        //   fileMatch: ['*.dashboards.json'],
        //   schema: {
        //     'type': 'array',
        //     'items': dashboardSchema
        //   }
        // }
      ]

      const libraries = {
        'util.libsonnet': '{\n  generate_jinja_header(obj)::\n    std.join(\'\', [\'{%% set %s = %s %%} \' % [f, std.manifestPython(obj[f])] for f in std.objectFields(obj)]),\n  generate_model_name_from_file(name)::\n    local parts = std.split(name, \'/\');\n    std.strReplace(parts[std.length(parts) - 1], \'.model.jsonnet\', \'\'),\n  generate_target_reference(target)::\n    local alias_quote = std.extVar(\'_aq\');\n    std.join(\'.\', std.map(function(x) alias_quote + x + alias_quote, std.filter(function(x) x != null, [\n      if std.objectHas(target, \'database\') then target.database else null,\n      if std.objectHas(target, \'schema\') then target.schema else null,\n      target.table,\n    ]))),\n}'
      }

    let schemas = [
      {
        "fileMatch": [
          "*.model.jsonnet"
        ],
        // "schema": {
        //   "$ref": "https://app.rakam.io/schema/model.schema.json"
        // },
        "uri": "https://app.rakam.io/schema/model.schema.json"
      },
      {
        "fileMatch": [
          "*.models.jsonnet"
        ],
        "schema": {
          "type": "array",
          "items": {
            "$ref": "https://app.rakam.io/schema/model.schema.json"
          }
        },
        "uri": "https://app.rakam.io/schema/models.schema.json"
      },
      {
        "fileMatch": [
          "_config.jsonnet"
        ],
        // "schema": {
        //   "$ref": "https://app.rakam.io/schema/config.schema.json"
        // },
        "uri": "https://app.rakam.io/schema/config.schema.json"
      },
      {
        "uri": "https://app.rakam.io/schema/rakam_api_schema.json",
        "fileMatch": [
          "common_schema.libsonnet"
        ],
        // "schema": {
        //   "$ref": "https://app.rakam.io/schema/rakam_api_schema.json"
        // }
      },
      {
        "uri": "https://app.rakam.io/schema/rakam_api_schema.json#multiple",
        "fileMatch": [
          "custom_schema.libsonnet"
        ],
        "schema": {
          "type": "object",
          "additionalProperties": {
            "$ref": "https://app.rakam.io/schema/rakam_api_schema.json"
          }
        }
      }
    ]

    // monaco.languages.json.jsonDefaults.setDiagnosticsOptions({
    //   validate: true,
    //   schemas: schemas
    // })

    monaco.languages.jsonnet.jsonnetDefaults.setDiagnosticsOptions({
      validate: true,
      allowComments: true,
        enableSchemaRequest: true,
        libraries: libraries,
        extVars: extVars,
        compilerUrl: '/test/main.wasm',
        schemas: schemas
      })

    // monaco.languages.registerCodeActionProvider("jsonnet", {
    //   provideCodeActions: (
    //     model /**ITextModel*/,
    //     range /**Range*/,
    //     context /**CodeActionContext*/,
    //     token /**CancellationToken*/
    //   ) => {
    //     return {
    //       actions: [
    //         {
    //           title: `Preview compiled json`,
    //           diagnostics: context.markers,
    //           kind: "quickfix",
    //           isPreferred: true
    //         }
    //       ],
    //       dispose: () => {}
    //     }
    //   }
    // });

      const models = {}
      Object
        .keys(files).forEach(file => {
        const uri = monaco.Uri.from({path: file, scheme: 'git'})
        models[file] = monaco.editor.createModel(files[file], null, uri)
      })

    const editor = monaco.editor.create(document.getElementById('container'), {
        model: models['test.model.jsonnet'],
        theme: 'vs-dark',
      })

      // monaco.languages.jsonnet.getWorker().then(workerXhr => {
      //   return workerXhr().then(worker => {
      //     worker.compile(new monaco.Uri('git', null, '_config.jsonnet')).then(data => {
      //       // debugger
      //     })
      //   })
      // })

      // var commandId = editor.addCommand(0, function () {
      //   // services available in `ctx`
      //   alert('my command is executing!')
      //
      // }, '')

      // monaco.languages.registerCodeLensProvider('jsonnet', {
      //   provideCodeLenses: function (model, token) {
      //     if (model.uri.path === '_config.jsonnet') {
      //       const a = monaco.languages.jsonnet.getWorker().then(workerXhr => {
      //         return workerXhr().then(worker => {
      //           const ourPaths = [['version'], ['path']]
      //           return worker.getJsonPaths(new monaco.Uri('git', null, '_config.jsonnet'), ...ourPaths).then(jsonnetPaths => {
      //             debugger
      //             const codeLenses = []
      //             jsonnetPaths.forEach((range, idx) => {
      //               if (range == null) return
      //               let id = ourPaths[idx].join('.')
      //               codeLenses.push({
      //                 range: range,
      //                 id: id,
      //                 command: {
      //                   id: commandId,
      //                   title: id
      //                 }
      //               })
      //             })
      //
      //             return {lenses: codeLenses}
      //           })
      //         })
      //       })
      //
      //       console.log(a)
      //       a.then(c => console.log(c))
      //
      //       return a
      //     }
      //   },
      //   resolveCodeLens: function (model, codeLens, token) {
      //     return codeLens
      //   }
      // })
    }
  )
</script>

</body>
</html>
